=== simple sort&search ===
Contributors: yukimichi
Tags: search,filter,sort,shortcode, search shortcode, live search, search plugin, custom search, search by post type, search by category,search by tag, search forms
Requires at least: 5.0
Tested up to: 5.7.1
Stable tag: 0.0.3
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Requires PHP: 7.0
Donate link:https://ofuse.me/yk034

トップページなどにショートコードを設置するだけでテーマ本来のデザインのまま並べ替えや絞り込み、検索をすることのできるプラグインです。

== Description ==

　検索専用ページを必要とせず、トップページや投稿一覧ページなどにショートコードを設置するだけで並べ替えや絞り込み、検索をすることのできるプラグインです。

　ワードプレス本来の検索機能を利用しているためパフォーマンスに大きな影響を与えず、競合も少ないよう設計されており、テーマ本来のデザインそのままに結果が表示されます。

　また、アーカイブなどのメインクエリを利用している投稿一覧ページでも追加の絞り込みとして利用することができます。

## 検索機能
OR検索、タイトル検索、厳格検索

※厳格検索について  
　WordPressで日本語を検索する場合、通常は「ふ」と「フ」と「ぶ」と「ぷ」は全て同じ文字として扱われてしまうため、これらを別の文字として扱うよう設定して検索することができる。  
　注意点として、厳格検索ではアルファベットの大文字と小文字も別の文字として区別して検索してしまう点にご注意ください。

## 並べ替え対象
投稿日、更新日、タイトル順、ランダム、コメント数
昇順・降順

## フィルタリング対象
カテゴリー、タグ、投稿期間、１ページに表示する数

## ショートコード
　ショートコードはサイトのどこにでも設置できます。

*利用できるショートコードは、

- [category_sims]
- [tag_sims]
- [order_sims]
- [orderby_sims]
- [period_sims]
- [postsnum_sims]
- [search_sims]
- [reset_sims]

の8つです。*

　すべてのショートコードで、indexurlとclassという引数が指定できますが、**通常の場合indexurlはトップページに設定されており、変更する必要はありません。**  
　ショートコードをそのまま入れた場合、トップページの投稿一覧を並べ替えるからです。

### indexurlを変更する必要があるのは以下の場合です。

1. トップページと投稿一覧を固定ページに変更している
　この場合、indexurlに投稿一覧ページのurlを入力してください。　indexurl="https://～"

2. カテゴリーやタグなどのアーカイブページで追加の並び替えをしたい
　この場合、indexurlに"now"と入力してください　indexurl="now"  
　nowと入力した場合、現在開いているページのメインクエリを変更し並べ替えやフィルタリングを行います。

例：[order_sims class="test" indexurl="https://test.com/"]  
と指定すると、ショートコードで出力される最初のhtmlタグ（formやselect）にtestというクラスが追加され、検索やソート、フィルタリングした結果が"https://test.com/"というページに表示されます。

### class引数について
　class引数の内容は、formやselectなどのショートコードで出力されるhtmlの最初のタグに含まれます。  

　テーマのデザインを阻害しないように、フォームやメニューに複雑なcssは設定されていないため、デザインをcssでカスタマイズしたいときなどに利用してください。

### ショートコードの個別引数解説
#### [search_sims]
　[search_sims]は共通引数以外に、optionという引数を設定することが来ます。（初期値はon）  
　これをon以外にすることで、OR検索などのオプション項目を非表示にすることができます。  

例：[search_sims option=""]

#### [category_sims]、[tag_sims]
　[category_sims]、[tag_sims]は共通引数以外に、label、type、sizeという引数を設定することが来ます。  

1. label　オプションタグに最初に表示される文字を変更することができます（初期値はカテゴリーを選択、タグを選択）
2. type　 表示形式の初期値はセレクトボックスタイプですが、チェックボックスタイプに変更することができます
3. size　 セレクトボックスタイプの時のみ、一度に表示する数を変更することができます（初期値は1）

例：[category_sims size="5" label="カテゴリー"]
例：[tag_sims type="checkbox"]

#### [orderby_sims]
　[orderby_sims]は共通引数以外に、enableという引数を設定することが来ます。（初期値はall）  
　これを設定することで、表示したい並べ替え形式を変更することができます。  
　初期値では、投稿順、更新順、タイトル順、ランダム、コメント数順の５つすべてが表示されますが、enable引数に対応した文字を入力することで変更が可能です。

##### 引数の対応リスト

1. 投稿順＝date
2. 更新順＝update
3. タイトル順＝title
4. ランダム＝rand
5. コメント数順＝comment_count

例：[orderby_sims enable="title,rand,comment_count"]
　上記例では、タイトル順とランダム、コメント数順のみ選択することのできるセレクトボックスが出力されます。

※注：複数項目の入力の際は半角カンマ区切りで入力してください

#### [postsnum_sims]、[reset_sims]
　[postsnum_sims]は共通引数以外に、submitという引数を設定することが来ます。（初期値は表示数変更）  
　これを設定することで、フォームの送信ボタンの文面を変更することができます。

例：[postsnum_sims submit="送信"]

#### [search_sims]
　[search_sims]は上記と同様、submit引数を設定することができ（初期値は検索）、それに加えてplaceholder引数を設定することができます。  
　これを設定することで、検索入力欄に初期表示される文字を変更することができます。

例：[search_sims placeholder="スペースを入力すると複数の条件で検索できます"]


## オプション設定

1. 投稿タイプ選択
　管理画面の設定メニューから、検索結果に表示する投稿タイプを選択することができます。

2. 先頭固定ページ表示非表示
　管理画面の設定メニューから、検索結果に先頭固定ページを表示するかどうかを設定することができます。

3. 投稿ステータスの指定
　管理画面の設定メニューから、検索結果に表示するページのステータスを設定することができます。public以外の投稿や固定ページを表示したい場合や、メディアページも表示したい場合などに利用してください。



== Installation ==

管理画面のプラグインメニューからダウンロードして有効化するか、zipファイルをアップロードして有効化してください。


== Frequently asked questions ==



== Screenshots ==
1. すべてのショートコードを入力して並べ替え

2. アップでの画像


== Changelog ==

= 0.0.3 =
* 検索で全角スペース区切りの単語がひとかたまりの単語になってしまう不具合を修正
* 検索に厳格検索、OR検索、タイトル検索をできる検索オプションを追加
* チェックボックスのcssをdisplay:inline-blockに変更

= 0.0.2 =
* 検索用ショートコードにタグを追加
* オプションの入力形式と保存形式を変更
* カテゴリー、タグショートコードにチェックボックス形式を追加
* 並べ替え条件を追加
* 一部検索フォームの文字出力形式を修正
* 設定へのリンクを追加

== Upgrade notice ==

0.0.2からオプションの入力形式と保存形式を変更したため、0.0.1の時点ですでにオプション設定を変更している場合は、再設定してください。